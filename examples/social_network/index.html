
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>ParticleVis.js</title>

      <script src="https://threejs.org/build/three.min.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
      <script src="https://d3js.org/d3.v3.min.js"></script>
      <script src="https://cdn.rawgit.com/tgdwyer/WebCola/master/WebCola/cola.min.js"></script>
      <script src="Sparkiz.js"></script>


    <style>
        div{
            float: left;
            margin-right: 5px;
        }

    </style>


</head>
<body>

  <div id="visFrame"></div>

  <script>
  var color_scale = d3.scale.linear()
                   .domain([1,4])
                   .range([d3.rgb("#ff0000"), d3.rgb('#fffe00')])
                   var proj = d3.geo.mercator()
                   .scale(900)
                   .translate([1500,500]);

    d3.json("data_social_network.json", function(json) {

            var app = Sparkiz.force("#visFrame", 800,800,"#a6cee3", 0)
                .nodes(json.nodes)
                .links(json.links)

                .create()

                .links_mapping("color", "#66c2a5")
                .links_mapping("size", 3)

                .nodes_mapping("label", function(d, i) {return d.label; })
                .nodes_mapping("size",  20)
                .nodes_mapping("image", function(d, i) {return "images/" + d.label + ".jpg"; })

                .particle_mapping("color", '#d53e4f')
                .particle_mapping("size", function(d, i) {return d.size_message; })
                .particle_mapping("frequency_pattern", function(d, i) {return d.frequency; })
                .particle_mapping("temporal_distribution", function(d, i) {return d.temporal; })
                .particle_mapping("velocity", function(d, i) {return d.speed; })
                .particle_mapping("texture", "images/twitter.png")

                .start(1000);



    });



  </script>


</body>
</html>
