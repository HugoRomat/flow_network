<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>confluent vs powergraph</title>

  <script src="https://threejs.org/build/three.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="https://cdn.rawgit.com/tgdwyer/WebCola/master/WebCola/cola.min.js"></script>
  <script src="lib/CSS3DRenderer.js"></script>
  <script src="lib/OrbitControls.js"></script>
<!--    <script src="lib/three.min.js"></script>
    <script src="lib/jquery.js"></script>
    <script src="lib/d3.min.js"></script>
    <script src="lib/cola.min.js"></script>
  <script src="lib/topojson.v1.min.js"></script>-->
	<script src="class/Sparkiz.js"></script>
    <style>
        div{
            float: left;
            margin-right: 5px;
        }
      html { width: 100%; height:100%; /*overflow:hidden;*/ }
      body{
        width: 100%;
        height:100%;
        font-family: Lato;
        margin: 0;
        padding: 0;
      }


    </style>


</head>
<body>


	<div id="visFrame"></div>

	<script>
  var color_scale = d3.scale.linear()
                   .domain([1,4])
                   .range([d3.rgb("#ff0000"), d3.rgb('#fffe00')])
                   var proj = d3.geo.mercator()
                   .scale(900)
                   .translate([1500,500]);

    d3.json("data/data_expe.json", function(json) {

      var app = Sparkiz.force("#visFrame", 1200,800,"#a6cee3", 0)
          .nodes(json.nodes)
          .links(json.links)
          .layout("linkDistance", 300)


          .create()

          .zoom(true)
          .controls(true)
          // .links_mapping("color", "#66c2a5")
          // .links_mapping("size", 3)
          //

          // //.nodes_mapping("label", function(d, i) {return d.city; })
          // .nodes_mapping("label", function(d, i) {return d.label; })
          // .nodes_mapping("size", 5)
          // .nodes_mapping("x", function(d, i) {return d.X; })
          // .nodes_mapping("y", function(d, i) {return d.Y;  })
          //.nodes_mapping("image", function(d, i) {return "images/" + d.label + ".jpg"; })
          // .nodes_mapping("x", function(d, i) {return d.x; })
          // .nodes_mapping("y", function(d, i) {return d.y;  })
          // var coordinates = my_projection([nodes[i].attr('long'),nodes[i].attr('lat')]);
          // // .particle_mapping("wiggling",5)
          .links_mapping("color", "#3288bd")
          .links_mapping("size", 10)
          //.links_mapping("size", 3)

          .roads_mapping("opacity", 1)
          .roads_mapping("color", "#66c2a5")

          .nodes_mapping("size",  10)
          .nodes_mapping("color", "#d53e4f")

          .nodes_mapping("label", function(d, i) {return d.name; })
          .nodes_mapping("label_size", 10)
          .nodes_mapping("label_x", 15)
          .nodes_mapping("label_y", -5)
          .nodes_mapping("label_color", "#fdae61")

          .particle_mapping("color", '#fdae61')
          .particle_mapping("size", 50)
          .particle_mapping("velocity", 8)


          .particle_mapping("color_0", 'yellow')
          .particle_mapping("color_1", 'blue')
          .particle_mapping("color_2", 'yellow')
          .particle_mapping("color_3", 'green')
          .particle_mapping("color_4", 'black')
          .particle_mapping("color_4", '#ffffbf')
          .particle_mapping("color_6", 'red')
          .particle_mapping("color_7", 'green')
          .particle_mapping("color_8", 'blue')
          .particle_mapping("color_8", 'red')

          //.particle_mapping("velocity_0", 1.0)
          // .particle_mapping("velocity_1", 3.0)
          // .particle_mapping("velocity_2", 5.0)
          // .particle_mapping("velocity_3", 7.0)
        //  .particle_mapping("velocity_4", 1.0)
          // .particle_mapping("velocity_5", 7.0)
          // .particle_mapping("velocity_6", 5.0)
          // .particle_mapping("velocity_7", 3.0)
          //.particle_mapping("velocity_8", 1.0)
          // .particle_mapping("velocity_1", 3)
          // .particle_mapping("velocity_2", 3)
          // .particle_mapping("velocity_3", 2)

          .particle_mapping("size_1", 10)
          .particle_mapping("size_3", 10)
          .particle_mapping("size_5", 10)
          .particle_mapping("size_6", 10)
          .particle_mapping("size_8", 10)
          .particle_mapping("size_9", 10)



          //.particle_mapping("color", '#d53e4f')
          // .particle_mapping("size", function(d, i) {return d.size_message; })
        /*  .particle_mapping("frequency_pattern", function(d, i) {return d.frequency; })
          .particle_mapping("spatial_distribution", function(d, i) {return d.spatial; })
          //.particle_mapping("spatial_distribution", [0,2])
          .particle_mapping("temporal_distribution", function(d, i) {return d.temporal; })
          .particle_mapping("velocity", function(d, i) {return d.speed; })*/

          .particle_mapping("frequency_pattern", 0.5)
          .particle_mapping("temporal_distribution",  [0.0])
          .particle_mapping("spatial_distribution", [0])
          //.particle_mapping("temporal_distribution", [0.0])

          // .particle_mapping("texture", "images/circle_texture.png")

          .start(1000);



    });



	</script>


</body>
</html>
