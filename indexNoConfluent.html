<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>confluent vs powergraph</title>

	<script src="lib/three.min.js"></script>
	<script src="lib/d3.js"></script>
	<script src="lib/jquery.js"></script>

	<script src="lib/cola.min.js"></script>
  <script src="lib/topojson.v1.min.js"></script>
	<script src="class/confluent.js"></script>
    <style>
        div{
            float: left;
            margin-right: 5px;
        }

    </style>


</head>
<body>
	<div id="visFrame"></div>
    <div id="visFrame2"></div>
    <div id="visFrame3"></div>
    <div id="visFrame4"></div>
    <svg id="legend"></svg>

	<script>

    d3.json("data/TKM_data1.json", function(json) {
      console.log(json.nodes)
      var my_app = new Main("#visFrame",json.nodes, json.links, 900, 900, "#a6cee3");
      var confluentGraph = my_app.confluentGraph;
      var nodes = confluentGraph.nodes;
      var links = confluentGraph.links;

      confluentGraph.launch_network(1000,function(){
        for (var i = 0;i<links.length; i++){

            confluentGraph.set_tube_color(i, "#1f78b4", 1);
            var speed = 10;
            var color_custom = new THREE.Color().setHSL(0.997,0.60,0.5);
            links[i].gate_colors[0] = color_custom;
            links[i].size[0] = 10;

        }
        for (var i = 0;i<nodes.length; i++){
            confluentGraph.updateNode_color(i , new THREE.Color("rgb(227, 26, 28)"))
            confluentGraph.updateNodes_scale(10);
        }
        confluentGraph.updateLinks();
        for (var i = 0;i<links.length; i++){
          var temporal_distribution = [0.0,0.4,0.6];
          var frequency_pattern = 1;
          confluentGraph.fit_to_frequence_temporal_distrib(i,frequency_pattern,temporal_distribution)
        }

      });
    });



	</script>


</body>
</html>
